network:
  name: projet-reseau
  version: 0.1
  hosts:
    - R1
      mode : docker
      image : quagga_n7:latest
      files : ./files/R1/etc:/
 
    - R2
      mode : docker
      image : quagga_n7:latest
      files : ./files/R2/etc:/
 
    - RouteurServices
      mode : docker
      image : quagga_n7:latest
      files : ./files/RouteurServices/etc:/
 
    - RouteurServicesReseaux
      mode : docker
      image : quagga_n7:latest
      files : ./files/RouteurServicesReseaux/etc:/
 
    - ServeurWeb
      mode : docker
      image : apache_n7:latest
      files : ./files/ServeurWeb/var:/
 
    - ServeurDNS
      mode : docker
      image : dns_n7:latest
      files : ./files/ServeurDNS/etc:/
 
 
    - RouteurFAIAcces
      mode : docker
      image : quagga_n7:latest
      files : ./files/RouteurFAIAcces/etc:/
 
    - BOX1
      mode : docker
      image : quagga_n7:latest
      files : ./files/BOX1/etc:/
 
    - BOX2
      mode : docker
      image : quagga_n7:latest
      files : ./files/BOX2/etc:/
 
 
    - ServeurWebUser
      mode : docker
      image : apache_n7:latest
      files : ./files/ServeurWebUser/var:/
 
    - EquipClient1
      mode : netns
      init : ./scripts/EquipClient1
 
    - EquipClient2
      mode : netns
      init : ./scripts/EquipClient2
 
  links :
    - R1:eth0!RouteurServices:eth0
    - RouteurServicesReseaux:eth2!R2:eth1
    - RouteurServicesReseaux:eth0!RouteurServices:eth2
    - ServeurWeb:eth0!RouteurServices:eth1
    - ServeurDNS:eth0!RouteurServicesReseaux:eth1
    - BOX1:eth1!RouteurFAIAcces:eth0
    - RouteurFAIAcces:eth2!BOX2:eth0
    - EquipClient1:eth0!BOX1:eth0
 
  bridges:
    - Switch0
      interfaces: R2:eth0!R1:eth1!RouteurFAIAcces:eth1!
    - Switch1
      interfaces: BOX2:eth1!ServeurWebUser:eth0!EquipClient2:eth0!
 
  consoles :
    - all
